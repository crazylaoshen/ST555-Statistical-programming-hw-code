181
182
183  /***Your Name Ji Shen
184      Date 1/27/2015
185      ST 555
186      Homework number 4
187      Goal:
188      To apply concepts from the chapters such as ad label format and import excel files to a
188! set of problems
189      ***/
190  libname orion "D:\google drive\NC semester 6\st555\data";
NOTE: Libref ORION was successfully assigned as follows:
      Engine:        V9
      Physical Name: D:\google drive\NC semester 6\st555\data
190!                                                            *create orion libarary;
191  ods pdf file='st555_hw4_result_JISHEN.pdf';
NOTE: Writing ODS PDF output to DISK destination
      "D:\google drive\NC semester 6\st555\Data\st555_hw4_result_JISHEN.pdf", printer "PDF".
192  /* Question 1 */
193
194  /* part a */
195  /*Create a character format*/
196  proc format;
197  value $GENDER  'F' = 'Female'
198                 'M' = 'Male'
199                 other = 'Invalid code';
NOTE: Format $GENDER is already on the library.
NOTE: Format $GENDER has been output.
200  run;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds


201  /* part b */
202  proc freq data = orion.nonsales;
203  table gender / missing nocum ;   * select variable gender as catogory showed in the table;
204  format gender $GENDER.;  * set format as created before;
205  run;

NOTE: Writing HTML Body file: sashtml2.htm
NOTE: There were 235 observations read from the data set ORION.NONSALES.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.15 seconds
      cpu time            1.01 seconds


206
207
208  /* part c */
209  /*Create a numeric format*/
210  proc format;
211  value SALRANGE  20000 - < 50000 = 'Below $50000'
212                 50000 - < 100000 = 'Between $50000 to $100000'
213                 100000 - < 500000 = '$100000 or more'
214                  . = 'Missing salary'
215                 other = 'Invalid salary';
NOTE: Format SALRANGE is already on the library.
NOTE: Format SALRANGE has been output.
216  run;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


217  /* part d */
218  proc freq data = orion.nonsales;
219  table salary;   * select variable salary as catogory showed in the table;
220  format salary SALRANGE.; * set format as created before;
221  run;

NOTE: There were 235 observations read from the data set ORION.NONSALES.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds


222
223
224  /* part e */
225  /*There are 43 emplyees meet this criterion.*/
226  data orion.Asst;
227  set orion.nonsales;
228  where Job_title contains 'Assistant';
229  run;

NOTE: There were 43 observations read from the data set ORION.NONSALES.
      WHERE Job_title contains 'Assistant';
NOTE: The data set ORION.ASST has 43 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds


230
231
232
233  /* part f */
234  proc print data=orion.Asst noobs split=' ';
235  format gender $GENDER. salary SALRANGE.;   * set format as created before;
236  id Employee_ID;  *display Employee_ID as the identifier ;
237  label Employee_ID='Employee ID'
238        Job_Title = 'Job Title';  * Create a labels
239  run;
240
241
242  /* Question 2 */
243  /*The option 'LIBRARY=libref<.catalog>' stores the formats created in the permanent
243! LIBRARY.FORMATS catalog. */
244
245  /*The options FMTSEARCH=(catalog-specification-1<... catalog-specification-n>)searches the
245! catalogs in the
246   FMTSEARCH= list in the order that they are listed until the format or informat is found.;*/
247
248  /* Question 3 */
249

NOTE: There were 43 observations read from the data set ORION.ASST.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.12 seconds
      cpu time            0.09 seconds


250  data work.delays;  * 3-a) create data work.delays using orion.orders as input;
251  set orion.orders;
252  where Employee_id = 99999999; * subset obs of variables employee_id;
253  Order_month = month(Order_Date); * create new variable , order_month;
254  Days4Delivery = Delivery_date- Order_Date; * create new variable  days4deliverry;
255  if days4delivery >= 4 and order_month in (7,8,9) ;  * subset observation based on 2 created
255! new variables;
256  drop order_id order_type;
257  label order_date = 'Date ordered'
258        delivery_date = 'Date Delivered'
259        order_month = 'Month Ordered';   * add labels;
260  format order_date delivery_date order_Month mmddyy10.;  * add format
261  run;
262
263  /*verify that the labels and formats were stored permanently*/

NOTE: There were 230 observations read from the data set ORION.ORDERS.
      WHERE Employee_id=99999999;
NOTE: The data set WORK.DELAYS has 29 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds


264  proc contents data = work.delays;
265  run;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.09 seconds
      cpu time            0.04 seconds


266
267  /*Question 4*/
268
269  /* part a */
270  libname hw4 excel "D:\google drive\NC semester 6\st555\HW4\football.xls";
NOTE: Libref HW4 was successfully assigned as follows:
      Engine:        EXCEL
      Physical Name: D:\google drive\NC semester 6\st555\HW4\football.xls
270!                                                                            *create hw4
270! libarary using excel engine;
271  * print first 10 observations;
272  proc print data = hw4.'Colleges$'n (obs=10);
273  run;

NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.15 seconds
      cpu time            0.09 seconds


274  proc print data = HW4.'footballrecruiting$'n (obs=10);
275  run;

NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds


276
277  /* part b */
278  data work.colleges;
279  set hw4.'Colleges$'n;
280  run;

NOTE: There were 2473 observations read from the data set HW4.'Colleges$'n.
NOTE: The data set WORK.COLLEGES has 2473 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.15 seconds
      cpu time            0.15 seconds


281  data work.recruit;
282  set HW4.'footballrecruiting$'n;
283  run;

NOTE: There were 120 observations read from the data set HW4.'footballrecruiting$'n.
NOTE: The data set WORK.RECRUIT has 120 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


284
285  /* part c */
286  /*The format for address is $98.*/
287  proc contents data = work.colleges;
288  run;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds


289
290  /* part d */
291  /*The data set WORK.TEXAS has 59 observations and 6 variables.*/
292  data work.texas;
293  set work.colleges;
294  where type ? 'Private' and address ? 'Texas';  * subset obs of variables type and address;
295  drop Address Type;  * drop variables address and type;
296  format Students Undergrads comma10.; * add format for variable students and undergrads
297  run;
298
299  /* part e */
300  /*The data set WORK.RECRUIT2 has 8 observations and 7 variables.*/

NOTE: There were 59 observations read from the data set WORK.COLLEGES.
      WHERE type contains 'Private' and address contains 'Texas';
NOTE: The data set WORK.TEXAS has 59 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


301  data work.recruit2;
302  set work.recruit;
303  drop points;  * drop variable points;
304  label Conf = 'Conference'
305        Off = 'Offense'
306        Def = 'Defense'
307        SpT = 'Special Teams'; * set labels;
308  where rank<=20 and conf like '%C';  *subset observations of variable rank and conf;
309  run;

NOTE: There were 8 observations read from the data set WORK.RECRUIT.
      WHERE (rank<=20) and conf like '%C';
NOTE: The data set WORK.RECRUIT2 has 8 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


310
311
312  /* part f : Florida is ranked number 1*/
313  proc print data=work.recruit2 label;
314  run;

NOTE: There were 8 observations read from the data set WORK.RECRUIT2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds


315
316  libname hw4 clear;
NOTE: Libref HW4 has been deassigned.
317
318  /*Question 5*/
319
320  /*This howework take me 4 hours. */
321
322
323
324   ods pdf close;
NOTE: ODS PDF printed 10 pages to D:\google drive\NC semester
      6\st555\Data\st555_hw4_result_JISHEN.pdf.
